from genepy import load_data_from_png
from tsprite import TSpriteData

patterns = load_data_from_png('res/chars/skeleton_patterns.png')


frames_table = [
        [               # frame 0
                [-17, 9, -4, 0x0000, 0x00]
        ],
        [               # frame 1
                [-17, 1, -7, 0x0004, 0x01],
                [-17, 9, -15, 0x0000, 0x03]
        ],
        [               # frame 2
                [-9, 1, -15, 0x0001, 0x04],
                [-17, 9, -21, 0x0001, 0x06]
        ],
        [               # frame 3
                [-6, -10, -7, 0x0004, 0x08],
                [-17, 1, -23, 0x0005, 0x0A],
                [-19, 11, -31, 0x0000, 0x0E]
        ],
        [               # frame 4
                [-21, -11, -7, 0x000C, 0x0F],
                [11, -19, -7, 0x0000, 0x13],
                [-6, -10, -15, 0x0004, 0x14],
                [-17, 1, -31, 0x0005, 0x16],
                [-19, 11, -39, 0x0000, 0x1A]
        ],
        [               # frame 5
                [-11, -13, -23, 0x000A, 0x1B],
                [-19, 3, -31, 0x0004, 0x24],
                [-19, 11, -39, 0x0000, 0x26],
                [-19, 11, -7, 0x0000, 0x27],
                [13, -21, -7, 0x0000, 0x28]
        ],
        [               # frame 6
                [-20, -12, -15, 0x000D, 0x29],
                [12, -20, -15, 0x0001, 0x31],
                [-17, -15, -39, 0x000E, 0x33]
        ],
        [               # frame 7
                [-20, -12, -21, 0x000E, 0x3F],
                [-4, -12, -45, 0x0005, 0x4B],
                [-20, 4, -37, 0x0005, 0x4F],
                [12, -20, -29, 0x0003, 0x53]
        ],
        [               # frame 8
                [-20, -12, -15, 0x000D, 0x57],
                [12, -20, -15, 0x0001, 0x5F],
                [-14, -18, -31, 0x000D, 0x61],
                [-14, -2, -39, 0x0004, 0x69],
                [-21, -11, -47, 0x000C, 0x6B],
                [-6, -10, -55, 0x0004, 0x6F]
        ],
        [               # frame 9
                [-11, -21, -47, 0x000F, 0x71],
                [-11, -21, -15, 0x000D, 0x81],
                [-3, -13, -63, 0x0005, 0x89],
                [-19, 11, -55, 0x0002, 0x8D],
                [13, -21, -55, 0x0000, 0x90],
                [-19, 11, -7, 0x0000, 0x91]
        ],
        [               # frame 10
                [-20, -12, -7, 0x000C, 0x92],
                [12, -20, -7, 0x0000, 0x96],
                [-11, -13, -15, 0x0008, 0x97],
                [-12, -20, -31, 0x000D, 0x9A],
                [-10, -22, -39, 0x000C, 0xA2],
                [-18, -14, -55, 0x000D, 0xA6],
                [3, -11, -63, 0x0000, 0xAE]
        ],
        [               # frame 11
                [-20, -12, -7, 0x000C, 0xAF],
                [12, -20, -7, 0x0000, 0xB3],
                [-11, -13, -15, 0x0008, 0xB4],
                [-19, -13, -23, 0x000C, 0xB7],
                [13, -21, -23, 0x0000, 0xBB],
                [-12, -12, -47, 0x000A, 0xBC],
                [-19, -13, -55, 0x000C, 0xC5],
                [4, -12, -63, 0x0000, 0xC9]
        ],
        [               # frame 12
                [-20, -12, -7, 0x000C, 0xCA],
                [12, -20, -7, 0x0000, 0xCE],
                [-11, -13, -15, 0x0008, 0xCF],
                [-18, -14, -23, 0x000C, 0xD2],
                [14, -22, -23, 0x0000, 0xD6],
                [-12, -12, -47, 0x000A, 0xD7],
                [-18, -14, -55, 0x000C, 0xE0],
                [5, -13, -63, 0x0000, 0xE4]
        ],
        [               # frame 13
                [-20, -12, -7, 0x000C, 0xE5],
                [12, -20, -7, 0x0000, 0xE9],
                [-11, -13, -15, 0x0008, 0xEA],
                [-17, -15, -23, 0x000C, 0xED],
                [15, -23, -23, 0x0000, 0xF1],
                [-12, -12, -31, 0x0008, 0xF2],
                [-14, -10, -39, 0x0008, 0xF5],
                [-11, -13, -47, 0x0008, 0xF8],
                [-17, -15, -55, 0x000C, 0xFB],
                [6, -14, -63, 0x0000, 0xFF]
        ],
        [               # frame 14
                [-5, -11, -7, 0x0004, 0x100],
                [-6, -18, -15, 0x0008, 0x102],
                [-8, -16, -31, 0x0009, 0x105],
                [-15, -17, -39, 0x000C, 0x10B],
                [17, -25, -39, 0x0000, 0x10F],
                [-16, -16, -55, 0x000D, 0x110]
        ],
        [               # frame 15
                [-14, -18, -15, 0x000D, 0x118],
                [-11, -21, -31, 0x000D, 0x120],
                [-18, -14, -47, 0x000D, 0x128],
                [14, -22, -47, 0x0001, 0x130],
                [-17, -15, -55, 0x000C, 0x132],
                [-20, 12, -63, 0x0000, 0x136]
        ],
        [               # frame 16
                [-18, -14, -47, 0x000F, 0x137],
                [14, -22, -47, 0x0003, 0x147],
                [-2, -22, -55, 0x0008, 0x14B],
                [-10, -14, -15, 0x0008, 0x14E],
                [-18, 2, -7, 0x0004, 0x151],
                [6, -22, -7, 0x0004, 0x153],
                [6, -14, -63, 0x0000, 0x155],
                [-18, 10, -55, 0x0000, 0x156]
        ],
        [               # frame 17
                [-17, -15, -47, 0x000F, 0x157],
                [-9, -23, -15, 0x000D, 0x167],
                [-1, -15, -55, 0x0004, 0x16F],
                [15, -23, -39, 0x0001, 0x171],
                [-17, 9, -55, 0x0000, 0x173],
                [-17, 9, -7, 0x0000, 0x174]
        ],
        [               # frame 18
                [-13, -19, -39, 0x000F, 0x175],
                [-21, -11, -7, 0x000C, 0x185],
                [3, -19, -47, 0x0004, 0x189],
                [19, -27, -39, 0x0001, 0x18B],
                [-13, 5, -47, 0x0000, 0x18D],
                [19, -27, -15, 0x0000, 0x18E],
                [11, -19, -7, 0x0000, 0x18F]
        ],
        [               # frame 19
                [-7, -25, -50, 0x000F, 0x190],
                [-7, -17, -18, 0x0009, 0x1A0],
                [17, -33, -18, 0x0004, 0x1A6],
                [1, -17, -2, 0x0004, 0x1A8],
                [-7, -1, -58, 0x0000, 0x1AA],
                [17, -25, -58, 0x0000, 0x1AB],
                [25, -33, -42, 0x0000, 0x1AC],
                [-15, 7, -18, 0x0000, 0x1AD]
        ],
        [               # frame 20
                [-7, -25, -51, 0x000F, 0x1AE],
                [-15, -17, -19, 0x000D, 0x1BE],
                [17, -33, -19, 0x0004, 0x1C6],
                [-7, -1, -59, 0x0000, 0x1C8],
                [25, -33, -43, 0x0000, 0x1C9]
        ],
        [               # frame 21
                [-11, -13, -7, 0x0008, 0x1CA],
                [-12, -20, -15, 0x000C, 0x1CD],
                [-7, -17, -31, 0x0009, 0x1D1],
                [-9, -23, -39, 0x000C, 0x1D7],
                [-2, -22, -47, 0x0008, 0x1DB],
                [-4, -12, -55, 0x0004, 0x1DE]
        ],
        [               # frame 22
                [-14, -18, -15, 0x000D, 0x1E0],
                [-8, -16, -31, 0x0009, 0x1E8],
                [-13, -19, -39, 0x000C, 0x1EE],
                [-6, -18, -47, 0x0008, 0x1F2]
        ],
        [               # frame 23
                [-16, -16, -7, 0x000C, 0x1F5],
                [-8, -16, -23, 0x0009, 0x1F9],
                [-11, -13, -39, 0x0009, 0x1FF],
                [-9, -15, -47, 0x0008, 0x205],
                [-7, -9, -55, 0x0004, 0x208]
        ],
        [               # frame 24
                [-16, -16, -7, 0x000C, 0x20A],
                [-10, -14, -39, 0x000B, 0x20E],
                [-9, -15, -55, 0x0009, 0x21A],
                [-7, -9, -63, 0x0004, 0x220]
        ],
        [               # frame 25
                [-20, -12, -7, 0x000C, 0x222],
                [12, -20, -7, 0x0000, 0x226],
                [-10, -14, -15, 0x0008, 0x227],
                [-12, -20, -39, 0x000E, 0x22A],
                [-18, -14, -47, 0x000C, 0x236],
                [-14, -10, -55, 0x0008, 0x23A]
        ],
        [               # frame 26
                [-12, -20, -23, 0x000E, 0x23D],
                [-8, -16, -39, 0x0009, 0x249],
                [-8, -8, -47, 0x0004, 0x24F],
                [-3, -5, -55, 0x0000, 0x251]
        ],
        [               # frame 27
                [-8, -16, -57, 0x000B, 0x252],
                [-8, 0, -25, 0x0003, 0x25E],
                [8, -16, -25, 0x0003, 0x262],
                [0, -8, -65, 0x0000, 0x266],
                [-16, 8, -49, 0x0000, 0x267],
                [0, -8, -25, 0x0000, 0x268]
        ],
        [               # frame 28
                [-4, -12, -7, 0x0004, 0x269],
                [-8, -16, -39, 0x000B, 0x26B],
                [-9, -15, -63, 0x000A, 0x277],
                [-5, -11, -71, 0x0004, 0x280]
        ]
]

patterns_blocks = [
        [0x0000, 0x0001],
        [0x0001, 0x0003],
        [0x0004, 0x0004],
        [0x0008, 0x0007],
        [0x000F, 0x000C],
        [0x001B, 0x000E],
        [0x0029, 0x0016],
        [0x003F, 0x0018],
        [0x0057, 0x001A],
        [0x0071, 0x0021],
        [0x0092, 0x001D],
        [0x00AF, 0x001B],
        [0x00CA, 0x001B],
        [0x00E5, 0x001B],
        [0x0100, 0x0018],
        [0x0118, 0x001F],
        [0x0137, 0x0020],
        [0x0157, 0x001E],
        [0x0175, 0x001B],
        [0x0190, 0x001E],
        [0x01AE, 0x001C],
        [0x01CA, 0x0016],
        [0x01E0, 0x0015],
        [0x01F5, 0x0015],
        [0x020A, 0x0018],
        [0x0222, 0x001B],
        [0x023D, 0x0015],
        [0x0252, 0x0017],
        [0x0269, 0x0019]
]

appear = [(0, 8), (1, 8), (2, 8), (3, 8), (4, 10)]
popup = [(4, 10), (5, 6), (6, 6), (7, 6), (8, 6), (9, 6)]
shoot = [(10, 6), (11, 6), (12, 6), (13, 6), (12, 6), (11, 6), (10, 6)]
walk = [(14, 6), (15, 6), (14, 6), (16, 6)]
jump_start = [(17, 4)]
jump_mid = [(18, 6), (19, 6), (20, 255)]
jump_end = [(19, 1), (18, 1), (17, 4)]
hijump_down_start = [(21, 4)]
hijump_down_mid = [(22, 6), (23, 6), (24, 255)]
hijump_down_end = [(23, 1), (22, 1), (21, 4)]
hijump_up_start = [(25, 4)]
hijump_up_mid = [(26, 6), (27, 6), (28, 255)]
hijump_up_end = [(27, 1), (26, 1), (25, 4)]
hit = [(9, 1)]
pop_down = [(9, 6), (8, 6), (7, 6), (6, 6), (5, 6)]
death = [(9, 6), (8, 6), (7, 6), (6, 6), (5, 6), (4, 8), (3, 8), (2, 8), (1, 8), (0, 16)]

animations_table = [
        appear,
        popup,
        shoot,
        walk,
        jump_start,
        jump_mid,
        jump_end,
        hijump_down_start,
        hijump_down_mid,
        hijump_down_end,
        hijump_up_start,
        hijump_up_mid,
        hijump_up_end,
        hit,
        pop_down,
        death
]

APPEAR = 0
POPUP = 1
SHOOT = 2
WALK = 3
JUMP_START = 4
JUMP_MID = 5
JUMP_END = 6
HIJUMP_DOWN_START = 7
HIJUMP_DOWN_MID = 8
HIJUMP_DOWN_END = 9
HIJUMP_UP_START = 10
HIJUMP_UP_MID = 11
HIJUMP_UP_END = 12
HIT = 13
POP_DOWN = 14
DEATH = 15


rect0 = (-26, -69, 52, 70)
rect1 = (-20, -59, 40, 60)
rect2 = (-20, -69, 40, 70)
rect3 = (-20, -43, 40, 44)

bounding_boxes = [
    None,    # bounding box 0,
    None,    # bounding box 1,
    None,    # bounding box 2,
    None,    # bounding box 3,
    None,    # bounding box 4,
    None,    # bounding box 5,
    None,    # bounding box 6,
    None,    # bounding box 7,
    None,    # bounding box 8,
    None,    # bounding box 9,
    rect1,    # bounding box 10,
    rect1,    # bounding box 11,
    rect1,    # bounding box 12,
    rect1,    # bounding box 13,
    rect1,    # bounding box 14
    rect1,    # bounding box 15
    rect1,    # bounding box 16
    rect1,    # bounding box 17
    rect1,    # bounding box 18
    rect1,    # bounding box 19
    rect1,    # bounding box 20
    rect1,    # bounding box 21
	rect3,    # bounding box 22
	rect1,    # bounding box 23
	rect1,    # bounding box 24
	rect1,    # bounding box 25
	rect1,    # bounding box 26
	rect1,    # bounding box 27
	rect2,    # bounding box 28
]

hitboxes = [None]*29

sprite_data = TSpriteData(patterns, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "skeleton")
