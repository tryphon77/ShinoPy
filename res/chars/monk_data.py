from genepy import load_data_from_png
from tsprite import TSpriteData

patterns = load_data_from_png('res/chars/monk_patterns.png')


frames_table = [
        [               # frame 0
                [-18, -14, -47, 0x000F, 0x00],
                [-18, -14, -15, 0x000D, 0x10],
                [-10, -6, -63, 0x0005, 0x18],
                [14, -38, -55, 0x0008, 0x1C],
                [-34, 18, -31, 0x0004, 0x1F],
                [-18, 10, -55, 0x0000, 0x21],
                [14, -22, -47, 0x0000, 0x22],
                [-34, 26, -23, 0x0000, 0x23]
        ],
        [               # frame 1
                [-11, -13, -47, 0x000B, 0x24],
                [-11, -13, -15, 0x0009, 0x30],
                [-11, -5, -63, 0x0005, 0x36],
                [13, -21, -63, 0x0002, 0x3A],
                [21, -29, -71, 0x0001, 0x3D]
        ],
        [               # frame 2
                [-9, -15, -63, 0x000B, 0x3F],
                [-10, -14, -31, 0x000B, 0x4B]
        ],
        [               # frame 3
                [-21, -11, -15, 0x000D, 0x57],
                [11, -19, -15, 0x0001, 0x5F],
                [-17, -15, -31, 0x000D, 0x61],
                [-31, -1, -39, 0x000C, 0x69],
                [1, -33, -39, 0x000C, 0x6D],
                [33, -49, -39, 0x0004, 0x71],
                [-16, -16, -47, 0x000C, 0x73],
                [-16, -8, -55, 0x0008, 0x77],
                [-11, -5, -63, 0x0004, 0x7A]
        ],
        [               # frame 4
                [-24, -8, -7, 0x000C, 0x7C],
                [8, -16, -7, 0x0000, 0x80],
                [-16, -16, -15, 0x000C, 0x81],
                [-32, 0, -23, 0x000C, 0x85],
                [0, -16, -23, 0x0004, 0x89],
                [-18, -14, -31, 0x000C, 0x8B],
                [14, -38, -31, 0x0008, 0x8F],
                [-12, -12, -39, 0x0008, 0x92],
                [2, -10, -47, 0x0000, 0x95]
        ],
        [               # frame 5
                [-10, -22, -51, 0x000F, 0x96],
                [-10, -14, -19, 0x0009, 0xA6],
                [-2, -14, -67, 0x0005, 0xAC],
                [-34, 10, -27, 0x0008, 0xB0],
                [30, -46, -59, 0x0004, 0xB3],
                [22, -38, -51, 0x0004, 0xB5],
                [-18, 10, -11, 0x0001, 0xB7],
                [-18, 10, -35, 0x0000, 0xB9],
                [14, -22, -19, 0x0000, 0xBA]
        ],
        [               # frame 6
                [2, -10, -24, 0x0000, 0xBB],
                [-24, -8, -48, 0x000E, 0xBC],
                [8, -16, -48, 0x0002, 0xC8],
                [-22, -10, -56, 0x000C, 0xCB],
                [-18, -14, -64, 0x000C, 0xCF],
                [-2, -22, -72, 0x0008, 0xD3],
                [13, -21, -80, 0x0000, 0xD6]
        ],
        [               # frame 7
                [-12, -12, -31, 0x000B, 0xD7],
                [-28, -4, -39, 0x000C, 0xE3],
                [4, -36, -39, 0x000C, 0xE7],
                [36, -52, -39, 0x0004, 0xEB],
                [-17, -7, -47, 0x0008, 0xED],
                [-11, -5, -55, 0x0004, 0xF0],
                [-10, -6, -63, 0x0004, 0xF2]
        ],
        [               # frame 8
                [-15, -17, -55, 0x000F, 0xF4],
                [-15, -17, -23, 0x000D, 0x104],
                [25, -57, -47, 0x000C, 0x10C],
                [-23, -1, -7, 0x0008, 0x110],
                [17, -25, -55, 0x0002, 0x113],
                [-7, -9, -63, 0x0004, 0x116],
                [-31, 15, -47, 0x0004, 0x118],
                [57, -73, -47, 0x0004, 0x11A],
                [9, -25, -7, 0x0004, 0x11C],
                [-23, 15, -55, 0x0000, 0x11E],
                [-23, 15, -15, 0x0000, 0x11F]
        ],
        [               # frame 9
                [-22, -10, -7, 0x000C, 0x120],
                [10, -26, -7, 0x0004, 0x124],
                [-14, -18, -15, 0x000C, 0x126],
                [18, -26, -15, 0x0000, 0x12A],
                [-13, -19, -23, 0x000C, 0x12B],
                [-11, -13, -31, 0x0008, 0x12F],
                [-10, -6, -39, 0x0004, 0x132],
                [-14, 6, -47, 0x0000, 0x134]
        ],
        [               # frame 10
                [-10, -22, -55, 0x000F, 0x135],
                [-10, -14, -23, 0x0009, 0x145],
                [-10, -6, -71, 0x0005, 0x14B],
                [-26, 10, -47, 0x0004, 0x14F],
                [14, -30, -23, 0x0004, 0x151],
                [-10, 2, -79, 0x0000, 0x153],
                [6, -14, -63, 0x0000, 0x154],
                [-18, 10, -55, 0x0000, 0x155],
                [22, -30, -15, 0x0000, 0x156],
                [-10, 2, -7, 0x0000, 0x157]
        ],
        [               # frame 11
                [19, -27, -28, 0x0000, 0x158],
                [11, -19, -43, 0x0003, 0x159],
                [3, -11, -45, 0x0003, 0x15D],
                [3, -11, -13, 0x0000, 0x161],
                [-13, -3, -47, 0x0007, 0x162],
                [-13, -3, -15, 0x0005, 0x16A],
                [-21, 13, -46, 0x0003, 0x16E],
                [-29, 21, -33, 0x0000, 0x172]
        ],
        [               # frame 12
                [-31, -1, -7, 0x000C, 0x173],
                [1, -17, -7, 0x0004, 0x177],
                [-25, -7, -15, 0x000C, 0x179],
                [7, -15, -15, 0x0000, 0x17D],
                [-18, -14, -23, 0x000C, 0x17E],
                [-12, -12, -31, 0x0008, 0x182],
                [-6, -10, -39, 0x0004, 0x185],
                [7, -15, -47, 0x0000, 0x187]
        ],
        [               # frame 13
                [-20, -12, -55, 0x000F, 0x188],
                [-12, -12, -23, 0x0009, 0x198],
                [-4, -12, -71, 0x0005, 0x19E],
                [12, -20, -55, 0x0002, 0x1A2],
                [-28, 12, -23, 0x0004, 0x1A5],
                [4, -12, -79, 0x0000, 0x1A7],
                [-12, 4, -63, 0x0000, 0x1A8],
                [20, -28, -47, 0x0000, 0x1A9],
                [-28, 20, -15, 0x0000, 0x1AA],
                [4, -12, -7, 0x0000, 0x1AB]
        ],
        [               # frame 14
                [-14, -18, -37, 0x000F, 0x1AC],
                [-14, -18, -45, 0x000C, 0x1BC],
                [-46, 22, -21, 0x0008, 0x1C0],
                [18, -26, -45, 0x0002, 0x1C3],
                [-30, 14, -29, 0x0004, 0x1C6],
                [-6, -10, -5, 0x0004, 0x1C8],
                [26, -34, -29, 0x0000, 0x1CA]
        ],
        [               # frame 15
                [-17, -15, -52, 0x000F, 0x1CB],
                [-17, -15, -20, 0x000D, 0x1DB],
                [-1, -15, -60, 0x0004, 0x1E3],
                [15, -31, -20, 0x0004, 0x1E5],
                [-17, 9, -60, 0x0000, 0x1E7],
                [15, -23, -44, 0x0000, 0x1E8],
                [15, -23, -28, 0x0000, 0x1E9],
                [-17, 9, -4, 0x0000, 0x1EA]
        ],
        [               # frame 16
                [-14, -18, -23, 0x000E, 0x1EB],
                [-6, -18, -31, 0x0008, 0x1F7],
                [18, -34, -15, 0x0004, 0x1FA],
                [-30, 14, -7, 0x0004, 0x1FC],
                [18, -26, -23, 0x0000, 0x1FE],
                [-22, 14, -15, 0x0000, 0x1FF]
        ],
        [               # frame 17
                [-18, -14, -15, 0x000D, 0x200],
                [14, -46, -7, 0x000C, 0x208],
                [-34, 18, -7, 0x0004, 0x20C],
                [14, -22, -15, 0x0000, 0x20E]
        ]
]

patterns_blocks = [
        [0x0000, 0x0024],
        [0x0024, 0x001B],
        [0x003F, 0x0018],
        [0x0057, 0x0025],
        [0x007C, 0x001A],
        [0x0096, 0x0025],
        [0x00BB, 0x001C],
        [0x00D7, 0x001D],
        [0x00F4, 0x002C],
        [0x0120, 0x0015],
        [0x0135, 0x0023],
        [0x0158, 0x001B],
        [0x0173, 0x0015],
        [0x0188, 0x0024],
        [0x01AC, 0x001F],
        [0x01CB, 0x0020],
        [0x01EB, 0x0015],
        [0x0200, 0x000F]
]

walk = [(0, 4), (1, 4), (2, 4), (1, 4), (0, 4), (3, 4)]
jump_start = [(4, 3), (5, 4)]
jump_mid = [(6, 255)]
jump_end = [(4, 3)]
attack = [(3, 6), (7, 8), (8, 16), (3, 16)]
hijump_down_start = [(4, 3), (9, 4)]
hijump_down_mid = [(10, 8), (11, 255)]
hijump_down_end = [(9, 3), (4, 4)]
hijump_up_start = [(4, 3), (12, 4)]
hijump_up_mid = [(13, 8), (14, 255)]
hijump_up_end = [(12, 3), (4, 4)]
hit = [(15, 1)]
death = [(16, 8), (17, 16)]

animations_table = [
        walk,
        jump_start,
        jump_mid,
        jump_end,
        attack,
        hijump_down_start,
        hijump_down_mid,
        hijump_down_end,
        hijump_up_start,
        hijump_up_mid,
        hijump_up_end,
        hit,
        death
]

WALK = 0
JUMP_START = 1
JUMP_MID = 2
JUMP_END = 3
ATTACK = 4
HIJUMP_DOWN_START = 5
HIJUMP_DOWN_MID = 6
HIJUMP_DOWN_END = 7
HIJUMP_UP_START = 8
HIJUMP_UP_MID = 9
HIJUMP_UP_END = 10
HIT = 11
DEATH = 12


rect0 = (-40, -72, 112, 73)
rect1 = (-12, -63, 24, 64)
rect2 = (-12, -41, 24, 42)
rect3 = (-20, -43, 40, 68)
rect4 = (-12, -68, 24, 45)

bounding_boxes = [
    rect1,    # bounding box 0,
    rect1,    # bounding box 1,
    rect1,    # bounding box 2,
    rect1,    # bounding box 3,
    rect2,    # bounding box 4,
    rect3,    # bounding box 5,
    rect4,    # bounding box 6,
    rect1,    # bounding box 7,
    rect1,    # bounding box 8,
    rect2,    # bounding box 9,
    rect3,    # bounding box 10,
    rect2,    # bounding box 11,
    rect2,    # bounding box 12,
    rect3,    # bounding box 13,
    rect2,    # bounding box 14
    None,    # bounding box 15
    None,    # bounding box 16
    None,    # bounding box 17
]

hitboxes = [None]*18

sprite_data = TSpriteData(patterns, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "monk")
