from genepy import load_data_from_png
from tsprite import TSpriteData


patterns_green = load_data_from_png('res/chars/green_ninja_patterns.png')
patterns_blue = load_data_from_png('res/chars/blue_ninja_patterns.png')
patterns_red = load_data_from_png('res/chars/red_ninja_patterns.png')
patterns_yellow = load_data_from_png('res/chars/yellow_ninja_patterns.png')

frames_table = [
        [               # frame 0
                [-14, -10, -7, 0x0008, 0x00],
                [-6, -10, -15, 0x0004, 0x03],
                [-12, -12, -23, 0x0008, 0x05],
                [-4, -12, -31, 0x0004, 0x08]
        ],
        [               # frame 1
                [-16, -8, -7, 0x0008, 0x0A],
                [-8, -8, -15, 0x0004, 0x0D],
                [-12, -12, -23, 0x0008, 0x0F],
                [-4, -12, -31, 0x0004, 0x12]
        ],
        [               # frame 2
                [-15, -9, -22, 0x000A, 0x14],
                [1, -17, -38, 0x0005, 0x1D],
                [-7, -1, -30, 0x0000, 0x21],
                [9, -17, -22, 0x0000, 0x22]
        ],
        [               # frame 3
                [-8, -16, -31, 0x000B, 0x23],
                [0, -24, -39, 0x0008, 0x2F],
                [-16, 8, -31, 0x0001, 0x32],
                [-16, 8, -7, 0x0000, 0x34]
        ],
        [               # frame 4
                [-17, -15, -31, 0x000F, 0x35],
                [-1, -23, -39, 0x0008, 0x45]
        ],
        [               # frame 5
                [-12, -12, -15, 0x0009, 0x48],
                [-18, -14, -23, 0x000C, 0x4E],
                [-11, -13, -31, 0x0008, 0x52],
                [-7, -9, -39, 0x0004, 0x55],
                [-13, 5, -47, 0x0000, 0x57]
        ],
        [               # frame 6
                [-16, -8, -15, 0x0009, 0x58],
                [-8, -8, -31, 0x0005, 0x5E],
                [-12, -12, -39, 0x0008, 0x62],
                [-17, -15, -47, 0x000C, 0x65],
                [-15, -9, -55, 0x0008, 0x69],
                [-6, -18, -63, 0x0008, 0x6C]
        ],
        [               # frame 7
                [-13, -11, -7, 0x0008, 0x6F],
                [-9, -7, -31, 0x0006, 0x72],
                [-13, -11, -39, 0x0008, 0x78],
                [-25, -7, -47, 0x000C, 0x7B],
                [7, -15, -47, 0x0000, 0x7F],
                [-15, -9, -55, 0x0008, 0x80],
                [-8, -16, -63, 0x0008, 0x83]
        ],
        [               # frame 8
                [-12, -20, -57, 0x000E, 0x86],
                [-12, -4, -33, 0x0005, 0x92],
                [4, -20, -9, 0x0005, 0x96],
                [-20, 12, -17, 0x0002, 0x9A],
                [-20, 12, -49, 0x0001, 0x9D],
                [4, -12, -25, 0x0001, 0x9F],
                [-12, 4, -17, 0x0000, 0xA1],
                [-28, 20, -9, 0x0000, 0xA2]
        ],
        [               # frame 9
                [-20, -12, -15, 0x000D, 0xA3],
                [-14, -10, -23, 0x0008, 0xAB],
                [-18, -14, -39, 0x000D, 0xAE],
                [-4, -20, -47, 0x0008, 0xB6]
        ],
        [               # frame 10
                [-10, 2, -7, 0x0000, 0xB9],
                [-11, -5, -15, 0x0004, 0xBA],
                [-9, -15, -31, 0x0009, 0xBC],
                [-9, -7, -39, 0x0004, 0xC2],
                [-12, -12, -47, 0x0008, 0xC4],
                [-17, -15, -55, 0x000C, 0xC7],
                [-12, -12, -63, 0x0008, 0xCB],
                [-12, -4, -71, 0x0004, 0xCE]
        ],
        [               # frame 11
                [-9, -15, -53, 0x000A, 0xD0],
                [-17, 1, -29, 0x0005, 0xD9],
                [-9, 1, -69, 0x0001, 0xDD],
                [15, -23, -61, 0x0001, 0xDF],
                [-1, -7, -29, 0x0000, 0xE1]
        ],
        [               # frame 12
                [21, -29, -39, 0x0000, 0xE2],
                [13, -21, -46, 0x0001, 0xE3],
                [-3, -13, -50, 0x0006, 0xE5],
                [-11, 3, -45, 0x0001, 0xEB],
                [-19, 11, -46, 0x0000, 0xED]
        ],
        [               # frame 13
                [-6, -18, -49, 0x000A, 0xEE],
                [-6, -10, -57, 0x0004, 0xF7],
                [-14, 6, -49, 0x0001, 0xF9],
                [-6, -2, -25, 0x0001, 0xFB],
                [10, -18, -25, 0x0000, 0xFD]
        ],
        [               # frame 14
                [-5, -19, -49, 0x000A, 0xFE],
                [-29, 5, -49, 0x0008, 0x107],
                [19, -27, -41, 0x0001, 0x10A],
                [-5, -3, -57, 0x0000, 0x10C],
                [-13, 5, -41, 0x0000, 0x10D]
        ],
        [               # frame 15
                [-17, -15, -23, 0x000E, 0x10E],
                [-9, -15, -31, 0x0008, 0x11A],
                [-1, -7, -39, 0x0000, 0x11D]
        ],
        [               # frame 16
                [-10, -14, -47, 0x000B, 0x11E],
                [-10, -14, -15, 0x0008, 0x12A],
                [-2, -6, -55, 0x0000, 0x12D],
                [-10, 2, -7, 0x0000, 0x12E],
                [6, -14, -7, 0x0000, 0x12F]
        ],
        [               # frame 17
                [-6, -2, -7, 0x0000, 0x130],
                [-3, -13, -31, 0x0006, 0x131],
                [-5, -11, -39, 0x0004, 0x137],
                [-15, -17, -55, 0x000D, 0x139],
                [-10, -14, -63, 0x0008, 0x141],
                [-2, -6, -71, 0x0000, 0x144]
        ],
        [               # frame 18
                [-14, -18, -15, 0x000D, 0x145],
                [-9, -15, -23, 0x0008, 0x14D],
                [-13, -19, -31, 0x000C, 0x150],
                [-8, -16, -39, 0x0008, 0x154],
                [-4, -12, -47, 0x0004, 0x157],
                [5, -13, -55, 0x0000, 0x159]
        ],
        [               # frame 19
                [-17, -15, -23, 0x000E, 0x15A],
                [-9, -15, -31, 0x0008, 0x166],
                [-1, -7, -39, 0x0000, 0x169]
        ],
        [               # frame 20
                [-13, -11, -7, 0x0008, 0x16A],
                [-5, -11, -23, 0x0005, 0x16D],
                [-14, -10, -31, 0x0008, 0x171],
                [-17, -15, -39, 0x000C, 0x174],
                [-14, -10, -47, 0x0008, 0x178],
                [-12, -4, -55, 0x0004, 0x17B]
        ],
        [               # frame 21
                [-14, -18, -55, 0x000D, 0x17D],
                [-6, -10, -39, 0x0007, 0x185],
                [-6, -10, -71, 0x0004, 0x18D],
                [2, -18, -63, 0x0004, 0x18F],
                [-14, 6, -63, 0x0000, 0x191],
                [10, -18, -23, 0x0000, 0x192],
                [-6, -2, -7, 0x0000, 0x193]
        ],
        [               # frame 22
                [-10, -14, -39, 0x000B, 0x194],
                [6, -22, -55, 0x0005, 0x1A0],
                [-18, -14, -7, 0x000C, 0x1A4],
                [-2, -6, -47, 0x0000, 0x1A8]
        ],
        [               # frame 23
                [7, -15, -55, 0x0003, 0x1A9],
                [7, -15, -23, 0x0002, 0x1AD],
                [-1, -7, -57, 0x0003, 0x1B0],
                [-1, -7, -25, 0x0002, 0x1B4],
                [-17, 1, -54, 0x0007, 0x1B7],
                [-17, 1, -22, 0x0005, 0x1BF],
                [-25, 17, -15, 0x0001, 0x1C3]
        ],
        [               # frame 24
                [-12, -12, -39, 0x000A, 0x1C5],
                [-12, -4, -55, 0x0005, 0x1CE],
                [-28, 12, -15, 0x0005, 0x1D2],
                [12, -44, -31, 0x000C, 0x1D6],
                [4, -20, -7, 0x0004, 0x1DA],
                [-20, 12, -63, 0x0001, 0x1DC],
                [-20, 12, -23, 0x0000, 0x1DE],
                [-12, 4, -15, 0x0000, 0x1DF],
                [4, -12, -15, 0x0000, 0x1E0]
        ],
        [               # frame 25
                [-12, -20, -25, 0x000D, 0x1E1],
                [-12, -4, -57, 0x0007, 0x1E9],
                [-20, 12, -17, 0x0002, 0x1F1],
                [4, -20, -1, 0x0004, 0x1F4],
                [-20, 12, -57, 0x0000, 0x1F6],
                [4, -12, -41, 0x0000, 0x1F7],
                [-28, 20, -9, 0x0000, 0x1F8],
                [4, -12, -9, 0x0000, 0x1F9]
        ],
        [               # frame 26
                [-11, -13, -47, 0x000B, 0x1FA],
                [-19, -13, -15, 0x000C, 0x206],
                [5, -21, -7, 0x0004, 0x20A],
                [5, -13, -63, 0x0001, 0x20C],
                [13, -21, -47, 0x0001, 0x20E],
                [-19, 11, -7, 0x0000, 0x210]
        ],
        [               # frame 27
                [-17, -7, -38, 0x000B, 0x211],
                [7, -39, -30, 0x000C, 0x21D],
                [-17, -15, -6, 0x000C, 0x221],
                [-9, -15, -46, 0x0008, 0x225],
                [39, -47, -38, 0x0001, 0x228],
                [7, -15, -38, 0x0000, 0x22A]
        ],
        [               # frame 28
                [-10, -14, -15, 0x0009, 0x22B],
                [-18, -6, -23, 0x0008, 0x231],
                [-21, -11, -31, 0x000C, 0x234],
                [-13, -11, -39, 0x0008, 0x238],
                [-5, -11, -47, 0x0004, 0x23B]
        ],
        [               # frame 29
                [-6, -18, -55, 0x000B, 0x23D],
                [-6, -26, -23, 0x000C, 0x249],
                [-22, 6, -55, 0x0004, 0x24D],
                [-6, -2, -15, 0x0000, 0x24F]
        ],
        [               # frame 30
                [3, -11, -9, 0x0000, 0x250],
                [-2, -14, -17, 0x0004, 0x251],
                [-14, -18, -41, 0x000E, 0x253],
                [-6, -18, -49, 0x0008, 0x25F],
                [-14, -10, -57, 0x0008, 0x262]
        ],
        [               # frame 31
                [-5, -19, -39, 0x000B, 0x265],
                [-21, 5, -47, 0x0005, 0x271],
                [-13, 5, -15, 0x0001, 0x275],
                [-29, 21, -47, 0x0000, 0x277],
                [-5, -3, -47, 0x0000, 0x278],
                [-13, 5, -31, 0x0000, 0x279],
                [11, -19, -7, 0x0000, 0x27A]
        ],
        [               # frame 32
                [6, -14, -39, 0x0003, 0x27B],
                [6, -14, -7, 0x0000, 0x27F],
                [-10, -6, -32, 0x0007, 0x280],
                [-18, 10, -31, 0x0001, 0x288],
                [-26, 18, -50, 0x0003, 0x28A],
                [-34, 26, -57, 0x0000, 0x28E]
        ],
        [               # frame 33
                [-10, -14, -23, 0x000A, 0x28F],
                [-26, 10, -15, 0x0005, 0x298],
                [-26, 18, -31, 0x0001, 0x29C]
        ]
]

patterns_blocks = [
        [0x0000, 0x000A],
        [0x000A, 0x000A],
        [0x0014, 0x000F],
        [0x0023, 0x0012],
        [0x0035, 0x0013],
        [0x0048, 0x0010],
        [0x0058, 0x0017],
        [0x006F, 0x0017],
        [0x0086, 0x001D],
        [0x00A3, 0x0016],
        [0x00B9, 0x0017],
        [0x00D0, 0x0012],
        [0x00E2, 0x000C],
        [0x00EE, 0x0010],
        [0x00FE, 0x0010],
        [0x010E, 0x0010],
        [0x011E, 0x0012],
        [0x0130, 0x0015],
        [0x0145, 0x0015],
        [0x015A, 0x0010],
        [0x016A, 0x0013],
        [0x017D, 0x0017],
        [0x0194, 0x0015],
        [0x01A9, 0x001C],
        [0x01C5, 0x001C],
        [0x01E1, 0x0019],
        [0x01FA, 0x0017],
        [0x0211, 0x001A],
        [0x022B, 0x0012],
        [0x023D, 0x0013],
        [0x0250, 0x0015],
        [0x0265, 0x0016],
        [0x027B, 0x0014],
        [0x028F, 0x000F]
]

appear = [(0, 8), (1, 8), (2, 8), (3, 8)]
crouch = [(4, 16)]
walk = [(6, 8), (7, 8), (6, 8), (8, 8)]
crawl = [(5, 32), (4, 48)]
attack = [(8, 6), (23, 4), (24, 4), (25, 6), (26, 4), (27, 4), (28, 6), (26, 4), (23, 4), (8, 8)]
jump_start = [(9, 4), (4, 4)]
jump = [(10, 1)]
jump_end = [(9, 4)]
hijump_up_start = [(15, 3), (16, 4)]
hijump_up = [(17, 1)]
hijump_up_end = [(18, 4), (15, 4)]
hijump_down_start = [(5, 3), (20, 4)]
hijump_down = [(21, 1)]
hijump_down_end = [(21, 4), (22, 4), (5, 4)]
jump_back = [(10, 8), (14, 6), (13, 6), (12, 6), (11, 6), (10, 255)]
jump_back2 = [(10, 8), (14, 6), (13, 6), (12, 6), (11, 6), (29, 4), (30, 255)]
air_attack = [(10, 8), (11, 4), (12, 4), (13, 4), (14, 4), (11, 4), (12, 4), (13, 4), (14, 4), (29, 4), (30, 255)]
hit = [(31, 1)]
death = [(31, 7), (32, 8), (33, 16)]
roll = [(12, 4), (13, 4), (14, 4), (11, 4)]

animations_table = [
        appear,
        crouch,
        walk,
        crawl,
        attack,
        jump_start,
        jump,
        jump_end,
        hijump_up_start,
        hijump_up,
        hijump_up_end,
        hijump_down_start,
        hijump_down,
        hijump_down_end,
        jump_back,
        jump_back2,
        air_attack,
        hit,
        death,
        roll
]

APPEAR = 0
CROUCH = 1
WALK = 2
CRAWL = 3
ATTACK = 4
JUMP_START = 5
JUMP = 6
JUMP_END = 7
HIJUMP_UP_START = 8
HIJUMP_UP = 9
HIJUMP_UP_END = 10
HIJUMP_DOWN_START = 11
HIJUMP_DOWN = 12
HIJUMP_DOWN_END = 13
JUMP_BACK = 14
JUMP_BACK2 = 15
AIR_ATTACK = 16
HIT = 17
DEATH = 18
ROLL = 19



rect0 = (-20, -59, 40, 60)
rect1 = (-12, -36, 24, 37)
rect2 = (-12, -51, 24, 52)
rect3 = (-12, -43, 24, 44)
rect4 = (-12, -53, 24, 27)

bounding_boxes = [
	None,
	None,
	None,
	None,
	rect1,
	rect1,
	rect2,
	rect2,
	rect2,
	rect3,
	rect2,
	rect4,
	rect4,
	rect4,
	rect4,
	rect1,
	rect3,
	rect2,
	rect3,
	rect1,
	rect3,
	rect2,
	rect3,
	rect2,
	rect2,
	rect2,
	rect2,
	rect2,
	rect2,
	rect4,
	rect4,
	None,
	None,
	None
]

hitboxes = [None] * 34

sprite_data_green = TSpriteData(patterns_green, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "green ninja")
sprite_data_blue = TSpriteData(patterns_blue, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "blue ninja")
sprite_data_red = TSpriteData(patterns_red, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "red ninja")
sprite_data_yellow = TSpriteData(patterns_yellow, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "yellow ninja")

crawl_offsets = [12, 12]

blade_high_box = (10, -61, 9, 24)
blade_low_box = (10, -39, 9, 40)

