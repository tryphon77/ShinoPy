from genepy import load_data_from_png
from tsprite import TSpriteData


blue_patterns = load_data_from_png('res/chars/blue_bazooka_patterns.png')
green_patterns = load_data_from_png('res/chars/green_bazooka_patterns.png')


frames_table = [
        [               # frame 0
                [-16, -16, -7, 0x000C, 0x00],
                [16, -24, -7, 0x0000, 0x04],
                [-9, -23, -15, 0x000C, 0x05],
                [0, -24, -23, 0x0008, 0x09],
                [-3, -21, -31, 0x0008, 0x0C],
                [-11, -21, -39, 0x000C, 0x0F],
                [-12, -20, -63, 0x000E, 0x13],
                [20, -36, -63, 0x0006, 0x1F]
        ],
        [               # frame 1
                [-7, -25, -60, 0x000E, 0x25],
                [-7, -17, -36, 0x000B, 0x31],
                [1, -17, -68, 0x0004, 0x3D],
                [25, -41, -60, 0x0004, 0x3F],
                [17, -25, -28, 0x0001, 0x41],
                [-15, 7, -60, 0x0000, 0x43],
                [25, -33, -52, 0x0000, 0x44],
                [1, -9, -4, 0x0000, 0x45]
        ],
        [               # frame 2
                [-5, -27, -23, 0x000E, 0x46],
                [-5, -19, -63, 0x000B, 0x52],
                [19, -35, -55, 0x0005, 0x5E],
                [-5, -19, -31, 0x0008, 0x62],
                [-21, 5, -55, 0x0004, 0x65],
                [-13, 5, -15, 0x0001, 0x67],
                [-21, 13, -63, 0x0000, 0x69],
                [27, -35, -63, 0x0000, 0x6A]
        ],
        [               # frame 3
                [-10, -22, -58, 0x000F, 0x6B],
                [-10, -14, -18, 0x0009, 0x7B],
                [22, -38, -58, 0x0005, 0x81],
                [-2, -30, -26, 0x000C, 0x85],
                [-2, -22, -66, 0x0008, 0x89],
                [-10, -6, -2, 0x0004, 0x8C],
                [-18, 10, -58, 0x0000, 0x8E],
                [14, -22, -18, 0x0000, 0x8F]
        ],
        [               # frame 4
                [-11, 3, -7, 0x0000, 0x90],
                [-12, -12, -15, 0x0008, 0x91],
                [-7, -17, -23, 0x0008, 0x94],
                [-8, -24, -39, 0x000D, 0x97],
                [-19, -13, -47, 0x000C, 0x9F],
                [13, -21, -47, 0x0000, 0xA3],
                [-14, -18, -63, 0x000D, 0xA4],
                [18, -34, -63, 0x0005, 0xAC],
                [-4, -20, -71, 0x0008, 0xB0]
        ],
        [               # frame 5
                [-11, -21, -7, 0x000C, 0xB3],
                [21, -29, -7, 0x0000, 0xB7],
                [-6, -26, -23, 0x000D, 0xB8],
                [-11, -21, -31, 0x000C, 0xC0],
                [-12, -20, -55, 0x000E, 0xC4],
                [20, -36, -55, 0x0006, 0xD0]
        ],
        [               # frame 6
                [-1, -31, -39, 0x000F, 0xD6],
                [-9, 1, -39, 0x0003, 0xE6],
                [-1, -23, -47, 0x0008, 0xEA],
                [-9, -15, -7, 0x0008, 0xED],
                [23, -47, -7, 0x0008, 0xF0],
                [31, -39, -47, 0x0002, 0xF3],
                [-17, 9, -47, 0x0001, 0xF6],
                [-17, 9, -23, 0x0000, 0xF8]
        ],
        [               # frame 7
                [-9, -23, -39, 0x000F, 0xF9],
                [23, -31, -39, 0x0003, 0x109],
                [-1, -23, -47, 0x0008, 0x10D],
                [-9, -15, -7, 0x0008, 0x110],
                [23, -47, -7, 0x0008, 0x113],
                [-25, 9, -39, 0x0004, 0x116],
                [31, -47, -39, 0x0004, 0x118],
                [-17, 9, -47, 0x0000, 0x11A],
                [31, -39, -47, 0x0000, 0x11B],
                [-17, 9, -23, 0x0000, 0x11C]
        ],
        [               # frame 8
                [-15, -17, -7, 0x000C, 0x11D],
                [17, -41, -7, 0x0008, 0x121],
                [-9, -23, -15, 0x000C, 0x124],
                [23, -31, -15, 0x0000, 0x128],
                [-20, -12, -23, 0x000C, 0x129],
                [12, -28, -23, 0x0004, 0x12D],
                [-12, -20, -39, 0x000D, 0x12F],
                [1, -25, -47, 0x0008, 0x137],
                [10, -26, -55, 0x0004, 0x13A]
        ],
        [               # frame 9
                [-15, -17, -7, 0x000C, 0x13C],
                [17, -41, -7, 0x0008, 0x140],
                [-9, -23, -15, 0x000C, 0x143],
                [23, -31, -15, 0x0000, 0x147],
                [-14, -18, -23, 0x000C, 0x148],
                [18, -26, -23, 0x0000, 0x14C],
                [-13, -19, -39, 0x000D, 0x14D],
                [-7, -17, -47, 0x0008, 0x155],
                [1, -17, -55, 0x0004, 0x158],
                [8, -16, -63, 0x0000, 0x15A]
        ],
        [               # frame 10
                [-15, -17, -7, 0x000C, 0x15B],
                [17, -41, -7, 0x0008, 0x15F],
                [-17, -15, -15, 0x000C, 0x162],
                [15, -31, -15, 0x0004, 0x166],
                [-14, -18, -23, 0x000C, 0x168],
                [18, -26, -23, 0x0000, 0x16C],
                [-14, -18, -39, 0x000D, 0x16D],
                [-1, -15, -47, 0x0004, 0x175],
                [0, -16, -55, 0x0004, 0x177],
                [8, -16, -63, 0x0000, 0x179],
                [9, -17, -71, 0x0000, 0x17A]
        ],
        [               # frame 11
                [-16, -16, -7, 0x000C, 0x17B],
                [16, -24, -7, 0x0000, 0x17F],
                [-9, -23, -15, 0x000C, 0x180],
                [0, -24, -23, 0x0008, 0x184],
                [-3, -21, -31, 0x0008, 0x187],
                [-12, -12, -39, 0x0008, 0x18A],
                [-12, -20, -63, 0x000E, 0x18D],
                [20, -36, -63, 0x0006, 0x199]
        ],
        [               # frame 12
                [-8, -24, -15, 0x000D, 0x19F],
                [-7, -25, -23, 0x000C, 0x1A7],
                [-3, -21, -31, 0x0008, 0x1AB],
                [-12, -20, -47, 0x000D, 0x1AE],
                [20, -36, -47, 0x0005, 0x1B6],
                [-10, -22, -55, 0x000C, 0x1BA],
                [22, -30, -55, 0x0000, 0x1BE],
                [3, -27, -63, 0x0008, 0x1BF],
                [4, -20, -71, 0x0004, 0x1C2],
                [7, -15, -79, 0x0000, 0x1C4]
        ],
        [               # frame 13
                [-8, -24, -22, 0x000E, 0x1C5],
                [-8, -16, -54, 0x000A, 0x1D1],
                [16, -48, -54, 0x000D, 0x1DA],
                [64, -80, -62, 0x0005, 0x1E2],
                [0, -24, -30, 0x0008, 0x1E6],
                [0, -16, -62, 0x0004, 0x1E9],
                [48, -64, -54, 0x0004, 0x1EB],
                [48, -56, -46, 0x0000, 0x1ED],
                [24, -32, -22, 0x0000, 0x1EE]
        ],
        [               # frame 14
                [-10, -22, -15, 0x000D, 0x1EF],
                [-11, -21, -23, 0x000C, 0x1F7],
                [21, -29, -23, 0x0000, 0x1FB],
                [-9, -23, -39, 0x000D, 0x1FC],
                [23, -39, -39, 0x0005, 0x204],
                [-6, -26, -47, 0x000C, 0x208],
                [26, -34, -47, 0x0000, 0x20C],
                [-1, -31, -55, 0x000C, 0x20D],
                [2, -18, -63, 0x0004, 0x211],
                [2, -10, -71, 0x0000, 0x213]
        ],
        [               # frame 15
                [-6, -18, -7, 0x0008, 0x214],
                [-9, -23, -23, 0x000D, 0x217],
                [23, -31, -23, 0x0001, 0x21F],
                [-17, -15, -31, 0x000C, 0x221],
                [15, -23, -31, 0x0000, 0x225],
                [-11, -21, -39, 0x000C, 0x226],
                [-4, -20, -47, 0x0008, 0x22A],
                [1, -17, -55, 0x0004, 0x22D]
        ],
        [               # frame 16
                [-6, -26, -7, 0x000C, 0x22F],
                [26, -34, -7, 0x0000, 0x233],
                [-7, -25, -15, 0x000C, 0x234],
                [-9, -23, -31, 0x000D, 0x238],
                [1, -17, -39, 0x0004, 0x240]
        ]
]

patterns_blocks = [
        [0x0000, 0x0025],
        [0x0025, 0x0021],
        [0x0046, 0x0025],
        [0x006B, 0x0025],
        [0x0090, 0x0023],
        [0x00B3, 0x0023],
        [0x00D6, 0x0023],
        [0x00F9, 0x0024],
        [0x011D, 0x001F],
        [0x013C, 0x001F],
        [0x015B, 0x0020],
        [0x017B, 0x0024],
        [0x019F, 0x0026],
        [0x01C5, 0x002A],
        [0x01EF, 0x0025],
        [0x0214, 0x001B],
        [0x022F, 0x0013]
]

wait = [(0, 30)]
walk = [(1, 8), (2, 8), (1, 8), (0, 8)]
jump_start = [(3, 4)]
jump = [(4, 1)]
shoot_rocket = [(5, 6), (6, 24), (7, 10), (6, 30), (5, 6)]
shoot_ball = [(5, 6), (6, 6), (8, 6), (9, 30), (10, 30), (9, 30), (8, 6), (6, 10), (5, 6)]
attack = [(11, 8), (12, 8), (13, 8), (12, 8), (11, 8)]
hit = [(14, 1)]
death = [(14, 8), (15, 8), (16, 16)]

animations_table = [
        wait,
        walk,
        jump_start,
        jump,
        shoot_rocket,
        shoot_ball,
        attack,
        hit,
        death
]

WAIT = 0
WALK = 1
JUMP_START = 2
JUMP = 3
SHOOT_ROCKET = 4
SHOOT_BALL = 5
ATTACK = 6
HIT = 7
DEATH = 8


rect0 = (-32, -69, 64, 70)
rect1 = (-12, -69, 24, 70)
rect2 = (-12, -55, 24, 56)
rect3 = (-12, -47, 24, 48)

bounding_boxes = [
	rect1,
	rect1,
	rect1,
	rect1,
	rect1,
	rect2,
	rect3,
	rect3,
	rect3,
	rect3,
	rect3,
	rect1,
	rect1,
	rect1,
	None,
	None,
	None
]
	
hitboxes = [None] * 17

sprite_data_blue = TSpriteData(blue_patterns, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "blue bazooka")
sprite_data_green = TSpriteData(green_patterns, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, rect0, "green bazooka")

