from genepy import load_data_from_png
from tsprite import TSpriteData


patterns = load_data_from_png('res/chars/sword_patterns.png')

frames_table = [
        [               # frame 0
                [-9, -15, -31, 0x000B, 0x00],
                [-16, -16, -55, 0x000E, 0x0C],
                [-8, -16, -63, 0x0008, 0x18]
        ],
        [               # frame 1
                [-9, -15, -31, 0x000B, 0x1B],
                [-15, -17, -55, 0x000E, 0x27],
                [-8, -16, -63, 0x0008, 0x33]
        ],
        [               # frame 2
                [13, -21, -60, 0x0002, 0x36],
                [5, -13, -55, 0x0003, 0x39],
                [5, -13, -23, 0x0002, 0x3D],
                [-11, -5, -63, 0x0007, 0x40],
                [-11, -5, -31, 0x0007, 0x48],
                [-19, 11, -47, 0x0000, 0x50]
        ],
        [               # frame 3
                [-6, -10, -7, 0x0004, 0x51],
                [-9, -7, -15, 0x0004, 0x53],
                [-14, -10, -31, 0x0009, 0x55],
                [-12, -20, -63, 0x000F, 0x5B]
        ],
        [               # frame 4
                [-11, -21, -23, 0x000E, 0x6B],
                [21, -29, -23, 0x0002, 0x77],
                [-10, -22, -39, 0x000D, 0x7A],
                [22, -30, -39, 0x0001, 0x82],
                [4, -28, -47, 0x0008, 0x84]
        ],
        [               # frame 5
                [-1, -31, -47, 0x000F, 0x87],
                [-9, -23, -15, 0x000D, 0x97],
                [-9, 1, -39, 0x0002, 0x9F],
                [23, -31, -15, 0x0001, 0xA2]
        ],
        [               # frame 6
                [22, -30, -51, 0x0003, 0xA4],
                [22, -30, -19, 0x0001, 0xA8],
                [14, -22, -50, 0x0003, 0xAA],
                [14, -22, -18, 0x0000, 0xAE],
                [-2, -14, -47, 0x0007, 0xAF],
                [-2, -14, -15, 0x0005, 0xB7],
                [-10, 2, -40, 0x0003, 0xBB],
                [-10, 2, -8, 0x0000, 0xBF]
        ],
        [               # frame 7
                [-20, -12, -55, 0x000F, 0xC0],
                [4, -20, -23, 0x0006, 0xD0],
                [-20, 4, -23, 0x0005, 0xD6],
                [12, -20, -55, 0x0003, 0xDA],
                [-12, -12, -63, 0x0008, 0xDE],
                [-28, 20, -63, 0x0002, 0xE1],
                [-4, -4, -23, 0x0000, 0xE4],
                [-20, 12, -7, 0x0000, 0xE5]
        ],
        [               # frame 8
                [-23, -9, -7, 0x000C, 0xE6],
                [9, -17, -7, 0x0000, 0xEA],
                [-13, -11, -15, 0x0008, 0xEB],
                [-9, -15, -39, 0x000A, 0xEE],
                [-16, -16, -55, 0x000D, 0xF7],
                [-21, -11, -63, 0x000C, 0xFF],
                [-18, 2, -71, 0x0004, 0x103]
        ],
        [               # frame 9
                [-5, -27, -63, 0x000E, 0x105],
                [-13, -11, -39, 0x000B, 0x111],
                [11, -27, -71, 0x0004, 0x11D],
                [-21, 5, -7, 0x0004, 0x11F],
                [3, -19, -7, 0x0004, 0x121],
                [-13, 5, -55, 0x0001, 0x123],
                [11, -19, -39, 0x0000, 0x125]
        ],
        [               # frame 10
                [-15, -17, -54, 0x000E, 0x126],
                [-15, -9, -30, 0x000A, 0x132],
                [33, -57, -54, 0x0009, 0x13B],
                [17, -49, -38, 0x000C, 0x141],
                [-7, -17, -62, 0x0008, 0x145],
                [-23, 7, -6, 0x0004, 0x148],
                [1, -17, -6, 0x0004, 0x14A],
                [41, -49, -62, 0x0000, 0x14C]
        ],
        [               # frame 11
                [-13, -19, -55, 0x000F, 0x14D],
                [-13, -11, -23, 0x000A, 0x15D],
                [3, -19, -63, 0x0004, 0x166],
                [11, -19, -7, 0x0000, 0x168]
        ],
        [               # frame 12
                [-10, -22, -55, 0x000E, 0x169],
                [-10, -14, -31, 0x000B, 0x175],
                [6, -22, -63, 0x0004, 0x181],
                [14, -22, -7, 0x0000, 0x183]
        ],
        [               # frame 13
                [-10, -22, -55, 0x000E, 0x184],
                [-10, -14, -31, 0x000B, 0x190],
                [6, -22, -63, 0x0004, 0x19C],
                [14, -30, -23, 0x0004, 0x19E],
                [14, -22, -7, 0x0000, 0x1A0]
        ],
        [               # frame 14
                [-13, -19, -55, 0x000F, 0x1A1],
                [-13, -11, -23, 0x000A, 0x1B1],
                [19, -43, -31, 0x0008, 0x1BA],
                [3, -19, -63, 0x0004, 0x1BD],
                [11, -19, -7, 0x0000, 0x1BF]
        ],
        [               # frame 15
                [-19, -13, -7, 0x000C, 0x1C0],
                [-21, -11, -15, 0x000C, 0x1C4],
                [-20, -12, -31, 0x000D, 0x1C8],
                [-25, -7, -47, 0x000D, 0x1D0],
                [7, -15, -47, 0x0001, 0x1D8],
                [-21, -3, -63, 0x0009, 0x1DA]
        ],
        [               # frame 16
                [-20, -12, -23, 0x000E, 0x1E0],
                [-20, -4, -39, 0x0009, 0x1EC],
                [12, -20, -31, 0x0002, 0x1F2],
                [-20, 12, -47, 0x0000, 0x1F5],
                [-4, -4, -47, 0x0000, 0x1F6],
                [-28, 20, -7, 0x0000, 0x1F7]
        ],
        [               # frame 17
                [-16, -16, -15, 0x000D, 0x1F8],
                [-16, 0, -23, 0x0004, 0x200],
                [8, -16, -23, 0x0000, 0x202],
                [-24, 16, -7, 0x0000, 0x203]
        ]
]


patterns_blocks = [
    [0x0000, 0x001B],
    [0x001B, 0x001B],
    [0x0036, 0x001B],
    [0x0051, 0x001A],
    [0x006B, 0x001C],
    [0x0087, 0x001D],
    [0x00A4, 0x001C],
    [0x00C0, 0x0026],
    [0x00E6, 0x001F],
    [0x0105, 0x0021],
    [0x0126, 0x0027],
    [0x014D, 0x001C],
    [0x0169, 0x001B],
    [0x0184, 0x001D],
    [0x01A1, 0x001F],
    [0x01C0, 0x0020],
    [0x01E0, 0x0018],
    [0x01F8, 0x000C]
]

stand1 = [(0, 6), (1, 6), (0, 6), (1, 6), (0, 6), (1, 6), (0, 6), (1, 6), (0, 6), (1, 6)]
stand2 = [(2, 6), (3, 6), (2, 6), (3, 6), (2, 6), (3, 6), (2, 6), (3, 6), (2, 6), (3, 6)]
wait = [(4, 6)]
walk = [(5, 6), (6, 6), (5, 6)]
throw = [(7, 20), (8, 5), (9, 5), (10, 5), (11, 5), (12, 112), (13, 1)]
slash = [(7, 20), (8, 3), (9, 3), (10, 3), (14, 3), (13, 30)]
hit = [(4, 1)]
dead = [(15, 8), (16, 8), (17, 16)]

animations_table = [
    stand1,
    stand2,
	wait, 
    walk,
    throw,
    slash,
    hit,
    dead
]

STAND1 = 0
STAND2 = 1
WAIT = 2
WALK = 3
THROW = 4
SLASH = 5
HIT = 6
DEAD = 7

rect1 = (-16, -47, 32, 48)

bounding_boxes = [
    rect1,        # bounding box 0,
    rect1,        # bounding box 1,
    rect1,        # bounding box 2,
    rect1,        # bounding box 3,
    rect1,        # bounding box 4,
    rect1,        # bounding box 5,
    rect1,        # bounding box 6,
    rect1,        # bounding box 7,
    rect1,        # bounding box 8,
    rect1,        # bounding box 9,
    rect1,        # bounding box 10,
    rect1,        # bounding box 11,
    rect1,        # bounding box 12,
    rect1,        # bounding box 13,
    rect1,        # bounding box 14,
    None,        # bounding box 15,
    None,        # bounding box 16,
    None,        # bounding box 17,
]

hitboxes = [None] * 18

walk_offsets = [3, 4, 2, 4, 0]

sword_box = (20, -48, 10, 48)

sprite_data = TSpriteData(patterns, frames_table, patterns_blocks, animations_table, bounding_boxes, hitboxes, "guardian")
